



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Python language Screwdriver V4 template scripts and integration">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.5.0">
    
    
      
        <title>Build Dependency Installer - Python Screwdriver Helpers</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.1b62728e.css">
      
      
    
    
      <script src="../assets/javascripts/modernizr.268332fc.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#the-pyprojecttoml-config-file" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="Python Screwdriver Helpers" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Python Screwdriver Helpers
            </span>
            <span class="md-header-nav__topic">
              
                Build Dependency Installer
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/yahoo/python-screwdrivercd/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href=".." title="Python Screwdriver Helpers" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Python Screwdriver Helpers
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/yahoo/python-screwdrivercd/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Quickstart" class="md-nav__link">
      Quickstart
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      Integration Utilities
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Integration Utilities
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Build Dependency Installer
      </label>
    
    <a href="./" title="Build Dependency Installer" class="md-nav__link md-nav__link--active">
      Build Dependency Installer
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#rationale" class="md-nav__link">
    Rationale
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    Configuration
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pyprojecttoml-toolsdv4_installdeps-configuration" class="md-nav__link">
    pyproject.toml tool.sdv4_installdeps configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fail_on_error" class="md-nav__link">
    fail_on_error
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install" class="md-nav__link">
    install
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#package-section" class="md-nav__link">
    Package section
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#common-package-settings" class="md-nav__link">
    Common Package settings
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#deps" class="md-nav__link">
    deps
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#repos-optional" class="md-nav__link">
    repos (Optional)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apk-settings" class="md-nav__link">
    apk settings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apt-get-settings" class="md-nav__link">
    apt-get settings
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#repos-apt-get-specific-values" class="md-nav__link">
    repos apt-get specific values
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#brew-settings" class="md-nav__link">
    brew settings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#yum-settings" class="md-nav__link">
    yum settings
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#repos-yum-specific-values" class="md-nav__link">
    repos yum specific values
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pip3-settings" class="md-nav__link">
    pip3 settings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#environment-settings" class="md-nav__link">
    Environment Settings
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    Examples
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../documentation/" title="Documentation" class="md-nav__link">
      Documentation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../github_integration/" title="Github" class="md-nav__link">
      Github
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Versioning/" title="Package Versioning" class="md-nav__link">
      Package Versioning
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Validation_Helpers/" title="Validation Wrappers" class="md-nav__link">
      Validation Wrappers
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Developer Information
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Developer Information
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../Code-of-Conduct/" title="Code of Conduct" class="md-nav__link">
      Code of Conduct
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Contributing/" title="Contributing" class="md-nav__link">
      Contributing
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../changelog/" title="Changelog" class="md-nav__link">
      Changelog
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#rationale" class="md-nav__link">
    Rationale
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    Configuration
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pyprojecttoml-toolsdv4_installdeps-configuration" class="md-nav__link">
    pyproject.toml tool.sdv4_installdeps configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fail_on_error" class="md-nav__link">
    fail_on_error
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install" class="md-nav__link">
    install
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#package-section" class="md-nav__link">
    Package section
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#common-package-settings" class="md-nav__link">
    Common Package settings
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#deps" class="md-nav__link">
    deps
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#repos-optional" class="md-nav__link">
    repos (Optional)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apk-settings" class="md-nav__link">
    apk settings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apt-get-settings" class="md-nav__link">
    apt-get settings
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#repos-apt-get-specific-values" class="md-nav__link">
    repos apt-get specific values
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#brew-settings" class="md-nav__link">
    brew settings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#yum-settings" class="md-nav__link">
    yum settings
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#repos-yum-specific-values" class="md-nav__link">
    repos yum specific values
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pip3-settings" class="md-nav__link">
    pip3 settings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#environment-settings" class="md-nav__link">
    Environment Settings
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    Examples
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/yahoo/python-screwdrivercd/edit/master/docs/Install_Dependencies.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="the-pyprojecttoml-config-file">The pyproject.toml config file<a class="headerlink" href="#the-pyprojecttoml-config-file" title="Permanent link">&para;</a></h1>
<p>The <code class="codehilite"><span class="err">screwdrivercd_install_deps</span></code> utility is used to define global package build dependencies for multiple packaging
systems in a single configuration file.</p>
<h2 id="rationale">Rationale<a class="headerlink" href="#rationale" title="Permanent link">&para;</a></h2>
<p>This utility provides a single place to configure gloabal/operating system dependencies
and simplifies creating CI/CD Pipelines that install and build the same package for multiple different
operating system environments in a coherent manner.</p>
<h2 id="configuration">Configuration<a class="headerlink" href="#configuration" title="Permanent link">&para;</a></h2>
<p>The <code class="codehilite"><span class="err">screwdrivercd_install_deps</span></code> utility is configured using the <code class="codehilite"><span class="err">pyproject.toml</span></code> file.  </p>
<p>The <code class="codehilite"><span class="err">pyproject.toml</span></code> file is a <a href="https://github.com/toml-lang/toml">toml</a> format configuration file, that is defined as part of Python <a href="https://www.python.org/dev/peps/pep-0518/">PEP518</a> to hold the python package build dependencies.  </p>
<p>All of the configuration for the <code class="codehilite"><span class="err">screwdrivercd.installdeps</span></code> package are under the  is under the <code class="codehilite"><span class="err">tool.sdv4_installdeps</span></code> section which contains the configuration values for the tool as a whole and subsections that define the configuration to use for each package type.</p>
<h3 id="pyprojecttoml-toolsdv4_installdeps-configuration">pyproject.toml tool.sdv4_installdeps configuration<a class="headerlink" href="#pyprojecttoml-toolsdv4_installdeps-configuration" title="Permanent link">&para;</a></h3>
<p>The <code class="codehilite"><span class="err">tool.sdv4_installdeps</span></code> configuration section defines settings that configure how the utility functions.</p>
<h3 id="fail_on_error">fail_on_error<a class="headerlink" href="#fail_on_error" title="Permanent link">&para;</a></h3>
<p>Boolean (True/False) value indicating if the installer should immediately fail if a package installation fails.</p>
<p>The default value is False</p>
<div class="codehilite"><pre><span></span><span class="k">[tool.sdv4_installdeps]</span>
    <span class="n">fail_on_error</span> <span class="o">=</span> <span class="kc">true</span>
</pre></div>

<h3 id="install">install<a class="headerlink" href="#install" title="Permanent link">&para;</a></h3>
<p>The install configuration setting is an ordered list of the package utilities to run.  <strong>Optional</strong></p>
<p>If not provided, a default that will run all the package utilities, ordered to execute the system package utilities, followed by the global python pip3 installed packages.</p>
<div class="codehilite"><pre><span></span><span class="k">[tool.sdv4_installdeps]</span>
    <span class="n">install</span> <span class="o">=</span> <span class="k">[&#39;apk&#39;, &#39;apt-get&#39;, &#39;brew&#39;, &#39;yum&#39;, &#39;pip3&#39;]</span>
</pre></div>

<h2 id="package-section">Package section<a class="headerlink" href="#package-section" title="Permanent link">&para;</a></h2>
<p>Each package tool has a setting section under the <code class="codehilite"><span class="err">tool.sdv4_installdeps</span></code> section of the <code class="codehilite"><span class="err">pyproject.toml</span></code>.</p>
<h3 id="common-package-settings">Common Package settings<a class="headerlink" href="#common-package-settings" title="Permanent link">&para;</a></h3>
<p>All the package tools have some settings that are common among them, so the same settings have the same format irregardless of the package utility they are defined under.</p>
<h4 id="deps">deps<a class="headerlink" href="#deps" title="Permanent link">&para;</a></h4>
<p>The deps setting is a list of package dependencies in a format based on the Python <a href="https://www.python.org/dev/peps/pep-0508">PEP 508</a> Package dependency specification.  </p>
<p>The specification used by the <code class="codehilite"><span class="err">screwdrivercd.installdeps</span></code> package adds the following environment markers which contain 
values from the <a href="https://distro.readthedocs.io/en/latest/">distro</a> package to allow specifying requirements based on 
attributes of the Operating System distribution.</p>
<table>
<thead>
<tr>
<th>Marker</th>
<th>Python equivalent</th>
<th>Sample values</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://distro.readthedocs.io/en/latest/#distro.codename">distro_codename</a></td>
<td>distro.codename()</td>
<td>Maipo, bionic</td>
</tr>
<tr>
<td><a href="https://distro.readthedocs.io/en/latest/#distro.id">distro_id</a></td>
<td>distro.id()</td>
<td>rhel, ubuntu, darwin</td>
</tr>
<tr>
<td><a href="https://distro.readthedocs.io/en/latest/#distro.like">distro_like</a></td>
<td>distro.like()</td>
<td>fedora, debian</td>
</tr>
<tr>
<td><a href="https://distro.readthedocs.io/en/latest/#distro.name">distro_name</a></td>
<td>distro.name()</td>
<td>Darwin, Red Hat Enterprise Linux Server, Ubuntu</td>
</tr>
<tr>
<td><a href="https://distro.readthedocs.io/en/latest/#distro.version">distro_version</a></td>
<td>distro.version()</td>
<td>7.4, 18.04, 18.6.0</td>
</tr>
</tbody>
</table>
<p>For example, the snippet below will use the yum tool to install the <code class="codehilite"><span class="err">foo_python36</span></code> package from the foo python rpm repo 
if the Operating System version is less than 8.0 and install the <code class="codehilite"><span class="err">python3</span></code> package if the operating system is version 
8.0 or higher.</p>
<div class="codehilite"><pre><span></span><span class="k">[tool.sdv4_installdeps.yum]</span>
<span class="n">repos</span><span class="p">.</span><span class="n">foo</span> <span class="o">=</span> <span class="s">&#39;https://foo.bar.com/foo_rpms.repo;distro_version&lt;&quot;8.0&quot;&#39;</span>
<span class="n">deps</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s">&#39;foo_python36;distro_version&lt;&quot;8.0&quot;&#39;</span><span class="p">,</span>
    <span class="s">&#39;python3;distro_version&gt;=&quot;8.0&#39;</span>
<span class="p">]</span>
</pre></div>

<h4 id="repos-optional">repos (Optional)<a class="headerlink" href="#repos-optional" title="Permanent link">&para;</a></h4>
<p>Some package utilities have the concept of package repositories.  The repos setting is a dictionary of repository name 
and values for repositories to add.  </p>
<p>This setting is only valid for the package utilities that have this concept.  The repo setting can be used to define 
package repositories to add to the host configuration before installing the package dependencies.</p>
<p>Like the deps setting, this setting supports using environment markers to specify environments to add the repositories 
too.</p>
<p>For example, this snippet would add the foo yum/rpm repository before installing the packages in Operating system 
versions lower than 8.0.</p>
<div class="codehilite"><pre><span></span><span class="k">[tool.sdv4_installdeps.yum]</span>
<span class="n">repos</span><span class="p">.</span><span class="n">foo_rpms</span> <span class="o">=</span> <span class="s">&#39;https://foo.bar.com/foo_rpms.repo;distro_version&lt;&quot;8.0&quot;&#39;</span>
</pre></div>

<h3 id="apk-settings">apk settings<a class="headerlink" href="#apk-settings" title="Permanent link">&para;</a></h3>
<p>The apk utility does not support repositories.</p>
<div class="codehilite"><pre><span></span><span class="k">[tool.sdv4_installdeps.apk]</span>
    <span class="n">deps</span> <span class="o">=</span> <span class="k">[&#39;python3&#39;]</span>
</pre></div>

<h3 id="apt-get-settings">apt-get settings<a class="headerlink" href="#apt-get-settings" title="Permanent link">&para;</a></h3>
<p>The apt-get tool supports both the deps and repos settings</p>
<div class="codehilite"><pre><span></span><span class="k">[tool.sdv4_installdeps.apt-get]</span>
    <span class="n">repos</span><span class="p">.</span><span class="n">multiverse</span> <span class="o">=</span> <span class="s">&#39;multiverse&#39;</span>
    <span class="n">repos</span><span class="p">.</span><span class="n">ppa_deadsnakes</span> <span class="o">=</span> <span class="s">&#39;ppa:deadsnakes/ppa;distro_version&gt;&quot;17.04&quot;&#39;</span>
    <span class="n">deps</span> <span class="o">=</span> <span class="k">[&#39;python3&#39;]</span>
</pre></div>

<h4 id="repos-apt-get-specific-values">repos apt-get specific values<a class="headerlink" href="#repos-apt-get-specific-values" title="Permanent link">&para;</a></h4>
<p>The <code class="codehilite"><span class="err">apt-get</span></code> repos support adding/enabling built in repos, as well as ppa and repository urls.</p>
<h3 id="brew-settings">brew settings<a class="headerlink" href="#brew-settings" title="Permanent link">&para;</a></h3>
<p>The brew utility does not currently support repositories.</p>
<div class="codehilite"><pre><span></span><span class="k">[tool.sdv4_installdeps.brew]</span>
    <span class="n">deps</span> <span class="o">=</span> <span class="k">[&#39;python3&#39;]</span>
</pre></div>

<h3 id="yum-settings">yum settings<a class="headerlink" href="#yum-settings" title="Permanent link">&para;</a></h3>
<p>The yum tools supports both repos and deps settings.</p>
<div class="codehilite"><pre><span></span><span class="k">[tool.sdv4_installdeps.yum]</span>
    <span class="n">repos</span><span class="p">.</span><span class="n">foo_rpms</span> <span class="o">=</span> <span class="s">&#39;https://foo.bar.com/foo_rpms.repo&#39;</span>
    <span class="n">deps</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s">&#39;foo_python36;distro_version&lt;&quot;8.0&quot;&#39;</span><span class="p">,</span>
        <span class="s">&#39;python3;distro_version&gt;=&quot;8.0&quot;&#39;</span>
    <span class="p">]</span>
</pre></div>

<h4 id="repos-yum-specific-values">repos yum specific values<a class="headerlink" href="#repos-yum-specific-values" title="Permanent link">&para;</a></h4>
<p>The yum repos values are executed in order, so it is possible to add a repository url, then enable/disable 
specific repositories that where added.</p>
<p>The yum utility configuration supports enabling/disabling repos in addition to being able to add/remove them.  </p>
<p>A repo configuration value that begins with <code class="codehilite"><span class="c">enable:</span></code> will enable the repository instead of adding it.</p>
<p>A repo configuraiton value that begins with <code class="codehilite"><span class="err">disable</span></code> will disable the repository instead of adding it.</p>
<div class="codehilite"><pre><span></span><span class="n">repos</span><span class="p">.</span><span class="n">foo_rpms</span> <span class="o">=</span> <span class="s">&#39;https://foo.bar.com/foo_rpms.repo&#39;</span>
<span class="n">repos</span><span class="p">.</span><span class="n">foo_rpms_disable_stable</span> <span class="o">=</span> <span class="s">&#39;disable:foo_rpms-stable&#39;</span>
<span class="n">repos</span><span class="p">.</span><span class="n">foo_rpms_enable_beta</span> <span class="o">=</span> <span class="s">&#39;enable:foo_rpms-beta&#39;</span>
</pre></div>

<h3 id="pip3-settings">pip3 settings<a class="headerlink" href="#pip3-settings" title="Permanent link">&para;</a></h3>
<p>The pip3 tool supports using the python pip3 command to install python packages for global, system wide use.  It does not currently support repos.</p>
<div class="codehilite"><pre><span></span><span class="k">[tool.sdv4_installdeps.pip3]</span>
    <span class="n">deps</span> <span class="o">=</span> <span class="k">[&#39;serviceping&#39;]</span>
</pre></div>

<h3 id="environment-settings">Environment Settings<a class="headerlink" href="#environment-settings" title="Permanent link">&para;</a></h3>
<p>Some settings for <code class="codehilite"><span class="err">scrwedrivercd_install_deps</span></code> command are specified via environment variables.</p>
<p>The following settings are supported:</p>
<table>
<thead>
<tr>
<th>Setting</th>
<th>Default Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>INSTALLDEPS_DEBUG</td>
<td>False</td>
<td>Enable verbose debug output</td>
</tr>
</tbody>
</table>
<h2 id="examples">Examples<a class="headerlink" href="#examples" title="Permanent link">&para;</a></h2>
<p>Here is an example that installs the mysql client package and installs the python <code class="codehilite"><span class="err">serviceping</span></code> package properly on multiple different Linux operating systems.</p>
<div class="codehilite"><pre><span></span><span class="k">[tool.sdv4_installdeps]</span>
    <span class="n">install</span> <span class="o">=</span> <span class="k">[&#39;apk&#39;, &#39;apt-get&#39;, &#39;yum&#39;, &#39;pip3&#39;]</span>

    <span class="k">[tool.sdv4_installdeps.apk]</span>
        <span class="n">deps</span> <span class="o">=</span> <span class="k">[&#39;mysql-client&#39;]</span>

    <span class="k">[tool.sdv4_installdeps.apt-get]</span>
        <span class="n">deps</span> <span class="o">=</span> <span class="k">[&#39;mysql-client&#39;]</span>

    <span class="k">[tool.sdv4_installdeps.brew]</span>
        <span class="n">deps</span> <span class="o">=</span> <span class="k">[&#39;mysql-utilities&#39;]</span>

    <span class="k">[tool.sdv4_installdeps.yum]</span>
        <span class="n">deps</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s">&#39;mysql;distro_version&lt;&quot;7.0&quot;&#39;</span><span class="p">,</span>
            <span class="s">&#39;mariadb;distro_version&gt;=&quot;7.0&quot;&#39;</span>
        <span class="p">]</span>

    <span class="k">[tool.sdv4_installdeps.pip3]</span>
        <span class="n">deps</span> <span class="o">=</span> <span class="k">[&#39;serviceping&#39;]</span>
</pre></div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href=".." title="Quickstart" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Quickstart
              </span>
            </div>
          </a>
        
        
          <a href="../documentation/" title="Documentation" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Documentation
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.a8b5e56f.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
    
  </body>
</html>